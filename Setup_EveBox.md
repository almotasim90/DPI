---
Title:  Setup EveBox
Description: setting up EveBox to work with Suricata on Debian 10.
Category: DPI 
---

This page is for setting up and configure EveBox. EveBox is a web-app alert and event management tool, It used for events generated by Suricata. 

## Requirements

* Clean Debian 10 installation with all updates installed;
* Have a **STATIC** IPv4 and IPv6 address configured on your external 
  interface;
* Working Suricata.
* (Optional) Elastic Search, Logstash and Kibana stack working.


## EveBox Installation On Debian 10

By visiting the EveBox official website [EveBox](https://evebox.org/), Then going to `Download`, There are several ways to install EveBox, I will use `.deb` file as it is easy to install in Debian 10, After getting the file, run this command:

	$ sudo dpkg -i (.deb file path)

That's it, EveBox is installed and ready to go. 


## How To Run EveBox 

You can run EveBox using an Existing ELK Stack and connecting to Elasticsearch server, by entering this command:

	$ evebox server -v -e http://elasticsearch:9200

**Note** you should replace Elasticsearch with your Elasticsearch server ip.

If you do not have an ELK Stack running you can simply use the embedded SQLite database instead (it is helpful if you are running EveBox on the same machine as Suricata), by entering this command:

	$ evebox server -v -D . --datastore sqlite --input /var/log/suricata/eve.json

**Note** the `-D` parameter that tells EveBox where to store data files such as the file for the SQLite database. 

By default EveBox run as a server exposing a web interface on port `5636`, to see the result in the browser visit `http://localhost:5636`, Then you should see the events and alerts generated by Suricata. 

**Note** Sometimes when you are running a Debian server through `SSH` port, it is difficult to get access to the browser. So, if you are using windows machine you can easily use Native SSH Port Forwarding by entering this command:

		$ ssh -L 5636:127.0.0.1:5636 root@your-server

More information about about Native SSH Port Forwarding  can be found in this [link](http://woshub.com/ssh-tunnel-port-forward-windows/).

### Run EveBox as a server 

You can run EveBox as a server by modifying  `/etc/evebox/evebox.yml`, a basic configuration would be: 

If you are running Elasticsearch add: 

	$ # Database configuration.
	database:	

	# Database type: elasticsearch, sqlite.
		type: postgresql

	elasticsearch:
    url: http://10.16.1.10:9200
    index: logstash
    disable-certificate-check: false

If you are running SQLite database then add:

	 $ # Database configuration.
			database:
				type: sqlite 
				
				# path of the SQLite database 
				sqlite:
                path: /var/lib/evebox/events.sqlite

**Note** `/etc/evebox/evebox.yml` is not implemented by default, there is `/etc/evebox/evebox.yml.example` file by default, you can easily copy the example configuration file and add you modification: 

	$ cp /etc/evebox/evebox.yml.example   /etc/evebox/evebox.yml


### Filtering Results In EveBox 

You can filter some results according to the IP address or the time stamp in EveBox. For example, if you want to filter the results so that it shows only single source IP address (192.168.2.216), you can enter in search bar:

	$ src_ip:"192.168.2.216"

It is the same for any parameter, like des_ip and timestamp. 

Also,If you want to filter the results between two timestamps period, you can simply enter the following in search bar:

	$ timestamp:["2021-05-31T07:08:04.894880" TO "2021-05-31T20:43:25.931294"]

You also can combine the two filters in one, for example:

	$ timestamp:["2021-05-27T08:16:39.752968" TO "2021-05-31T20:43:25.931294"] AND dest_ip:"10.216.3.1"

It is the same for all other result attributes. 

**Note** EveBox now has a single IP Address report feature, by clicking into any event, there is a small arrow beside the ip address, by clicking that arrow you can find a single IP report of that single IP address. 


For more information about EveBox, you can visit this [GitHub page](https://github.com/jasonish/evebox).

